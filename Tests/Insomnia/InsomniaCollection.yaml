openapi: 3.0.1
info:
  title: Top Seguros Brasil Policy Engine
  description: >-
    Motor de gerenciamento de apolices para Top Seguros Brasil. Feito com amor
    <3
  version: v1
paths:
  /cliente/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todos os clientes
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cliente"
        required: true
      responses:
        "200":
          description: Success
  /cliente/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar cliente específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar cliente específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cliente"
        required: true
      responses:
        "200":
          description: Success
    delete:
      tags:
        - tsb.mininal.policy.engine
      operationId: Desativar cliente específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /cliente/login:
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Fazer login do cliente
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cliente"
        required: true
      responses:
        "200":
          description: Success
  /apolice/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todas as apólices
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir apólice
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Apolice"
        required: true
      responses:
        "200":
          description: Success
  /apolice/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar apólice específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /apolice/{id}/{status}:
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar status de apólice específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
        - name: status
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Success
  /apolice/gerar/:
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Gerar apólice
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GenerateApolice"
        required: true
      responses:
        "200":
          description: Success
  /cobertura/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todas as coberturas
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir cobertura
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cobertura"
        required: true
      responses:
        "200":
          description: Success
  /cobertura/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar cobertura específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar cobertura específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cobertura"
        required: true
      responses:
        "200":
          description: Success
    delete:
      tags:
        - tsb.mininal.policy.engine
      operationId: Desativar cobertura específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /ocorrencia/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todas as ocorrências
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir ocorrência
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Ocorrencia"
        required: true
      responses:
        "200":
          description: Success
  /ocorrencia/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar ocorrência específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar ocorrência específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Ocorrencia"
        required: true
      responses:
        "200":
          description: Success
  /ocorrencia/documento/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar documento de ocorrência específica
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir documento em ocorrência
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /terceirizado/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todos os terceirizados
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir terceirizado
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Terceirizado"
        required: true
      responses:
        "200":
          description: Success
  /terceirizado/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar terceirizado específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar terceirizado específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Terceirizado"
        required: true
      responses:
        "200":
          description: Success
    delete:
      tags:
        - tsb.mininal.policy.engine
      operationId: Desativar terceirizado específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /usuario/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todos os usuários
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir usuário
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Usuario"
        required: true
      responses:
        "200":
          description: Success
  /usuario/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar usuário específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar usuário específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Usuario"
        required: true
      responses:
        "200":
          description: Success
    delete:
      tags:
        - tsb.mininal.policy.engine
      operationId: Desativar usuário específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
  /usuario/login:
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Fazer login do usuário
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Usuario"
        required: true
      responses:
        "200":
          description: Success
  /veiculo/:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar todos os veículos
      responses:
        "200":
          description: Success
    post:
      tags:
        - tsb.mininal.policy.engine
      operationId: Inserir veículo
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Veiculo"
        required: true
      responses:
        "200":
          description: Success
  /veiculo/{id}:
    get:
      tags:
        - tsb.mininal.policy.engine
      operationId: Selecionar veículo específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
    put:
      tags:
        - tsb.mininal.policy.engine
      operationId: Alterar veículo específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Veiculo"
        required: true
      responses:
        "200":
          description: Success
    delete:
      tags:
        - tsb.mininal.policy.engine
      operationId: Deletar veículo específico
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: Success
components:
  schemas:
    Apolice:
      type: object
      properties:
        id_apolice:
          type: integer
          format: int32
        data_inicio:
          type: string
          nullable: false
        data_fim:
          type: string
          nullable: false
        premio:
          type: number
          format: double
        indenizacao:
          type: number
          format: double
        id_cobertura:
          type: integer
          format: int32
        id_usuario:
          type: integer
          format: int32
        id_cliente:
          type: integer
          format: int32
        id_veiculo:
          type: integer
          format: int32
        status:
          type: string
          nullable: false
      additionalProperties: false
    Cliente:
      type: object
      properties:
        id_cliente:
          type: integer
          format: int32
        nome_completo:
          type: string
          nullable: false
        email:
          type: string
          nullable: false
        senha:
          type: string
          nullable: false
        cpf:
          type: string
          nullable: false
        cnh:
          type: string
          nullable: false
        cep:
          type: string
          nullable: false
        data_nascimento:
          type: string
          nullable: false
        telefone1:
          type: string
          nullable: false
        telefone2:
          type: string
          nullable: true
        status:
          type: boolean
      additionalProperties: false
    Cobertura:
      type: object
      properties:
        id_cobertura:
          type: integer
          format: int32
        nome:
          type: string
          nullable: false
        descricao:
          type: string
          nullable: false
        valor:
          type: string
          nullable: false
        status:
          type: boolean
      additionalProperties: false
    GenerateApolice:
      type: object
      properties:
        id_cliente:
          type: integer
          format: int32
        id_veiculo:
          type: integer
          format: int32
        id_cobertura:
          type: integer
          format: int32
      additionalProperties: false
    Ocorrencia:
      type: object
      properties:
        id_ocorrencia:
          type: integer
          format: int32
        data:
          type: string
          nullable: false
        local:
          type: string
          nullable: false
        uf:
          type: string
          nullable: false
        municipio:
          type: string
          nullable: false
        descricao:
          type: string
          nullable: false
        tipo:
          type: string
          nullable: false
        documento:
          type: string
          nullable: true
        id_veiculo:
          type: integer
          format: int32
        id_cliente:
          type: integer
          format: int32
        id_terceirizado:
          type: integer
          format: int32
          nullable: true
        status:
          type: string
          nullable: false
      additionalProperties: false
    Terceirizado:
      type: object
      properties:
        id_terceirizado:
          type: integer
          format: int32
        nome:
          type: string
          nullable: false
        funcao:
          type: string
          nullable: false
        cnpj:
          type: string
          nullable: false
        telefone:
          type: string
          nullable: false
        valor:
          type: number
          format: double
        status:
          type: boolean
      additionalProperties: false
    Usuario:
      type: object
      properties:
        id_usuario:
          type: integer
          format: int32
        nome_completo:
          type: string
          nullable: false
        email:
          type: string
          nullable: false
        tipo:
          type: string
          nullable: false
        senha:
          type: string
          nullable: false
        status:
          type: boolean
      additionalProperties: false
    Veiculo:
      type: object
      properties:
        id_veiculo:
          type: integer
          format: int32
        marca:
          type: string
          nullable: false
        modelo:
          type: string
          nullable: false
        ano:
          type: string
          nullable: false
        uso:
          type: string
          nullable: false
        placa:
          type: string
          nullable: false
        renavam:
          type: string
          nullable: false
        sinistrado:
          type: boolean
        id_cliente:
          type: integer
          format: int32
      additionalProperties: false
servers:
  - url: https://localhost:7093
    variables: {}
    description: URL do servidor local utilizando HTTPS
  - url: http://localhost:5093
    variables: {}
    description: URL do servidor local utilizando HTTP
